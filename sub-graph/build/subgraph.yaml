specVersion: 0.0.4
schema:
  file: schema.graphql
dataSources:
  - kind: ethereum/contract
    name: OwnerId
    network: localhost
    source:
      abi: OwnerId
      address: "0xBe16616Ffb87CC3845dC33bA7a7419768697D511"
      startBlock: 0
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      entities:
        - Owner
      abis:
        - name: OwnerId
          file: OwnerId\abis\OwnerId.json
      eventHandlers:
        - event: Mint(indexed address,uint256,string)
          handler: handleMint
        - event: CidUpdated(indexed uint256,string)
          handler: handleCidUpdated
      file: OwnerId\OwnerId.wasm
  - kind: ethereum/contract
    name: TenantId
    network: localhost
    source:
      abi: TenantId
      address: "0x0AB0976ed91F74FA8D8F1D9EA9BEa24b7c1cb65e"
      startBlock: 0
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      entities:
        - Tenant
      abis:
        - name: TenantId
          file: TenantId\abis\TenantId.json
      eventHandlers:
        - event: Mint(indexed address,uint256,string)
          handler: handleMint
        - event: CidUpdated(indexed uint256,string)
          handler: handleCidUpdated
        - event: TenantHasLeaseUpdated(uint256,bool)
          handler: handleTenantHasLeaseUpdated
      file: TenantId\TenantId.wasm
  - kind: ethereum/contract
    name: Lease
    network: localhost
    source:
      abi: Lease
      address: "0x048ca8B5df207A87E8a17Ddb1fc2BFf40029C391"
      startBlock: 0
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      entities:
        - Owner
      abis:
        - name: Lease
          file: Lease\abis\Lease.json
      eventHandlers:
        - event: CancellationRequested(uint256,bool,bool)
          handler: handleCancellationRequested
        - event: LeaseCreated(uint256,uint256,uint256,uint256,uint8,address,uint256,uint256,uint256,string)
          handler: handleLeaseCreated
        - event: LeaseReviewedByTenant(uint256,string)
          handler: handleLeaseReviewedByTenant
        - event: LeaseReviewedByOwner(uint256,string)
          handler: handleLeaseReviewedByOwner
        - event: LeaseValidated(uint256)
          handler: handleLeaseValidated
        - event: RentNotPaid(uint256,uint256)
          handler: handleRentNotPaid
        - event: FiatRentPaid(uint256,uint256,bool,uint256,int256,uint256)
          handler: handleFiatRentPaid
        - event: CryptoRentPaid(uint256,uint256,bool,uint256)
          handler: handleCryptoRentPaid
        - event: UpdateLeaseStatus(uint256,uint8)
          handler: handleUpdateLeaseStatus
        - event: RentPaymentIssueStatusUpdated(uint256,uint256,bool)
          handler: handleRentPaymentIssueStatusUpdated
        - event: SetRentToPending(uint256,uint256)
          handler: handleSetRentToPending
        - event: LeaseMetaDataUpdated(uint256,string)
          handler: handleLeaseMetaDataUpdated
      file: Lease\Lease.wasm
